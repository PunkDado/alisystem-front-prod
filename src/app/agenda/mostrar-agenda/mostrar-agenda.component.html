<div class="row p-3">
    <div class="col-4">
        <label for="mes">Mês: </label>
        <input type="date" class="form-control" name="mes" [(ngModel)]="mes" (change)="montaMes()">
        <!--<ng-select  name="mes"
                    [items]="meses" 
                    [(ngModel)]="mes" 
                    placeholder="Selecione o mês"> 
        </ng-select>-->
    </div>
    <div class="col-2 p-4">
        <button type="button" class="btn btn-primary" (click)="setMesAtual(); montaMes();">
            <i class="fa fa-calendar" aria-hidden="true"></i> Mês atual
        </button>
    </div>
    <div class="col-4">
        <label for="dentista">Dentista: </label>
        <ng-select  name="dentista"
                    [items]="dentistas" 
                    bindLabel="nomeDentista"
                    bindValue="id"
                    [(ngModel)]="dentistaId" 
                    placeholder="Selecione um dentista"
                    (change)="filtrarAgendamentosPorDentista();"> 
        </ng-select>
    </div>
    <div class="col-1 p-4">
        <button class="btn" (click)="listarTodos(); resetDentista()">
            <i class="fa fa-refresh" aria-hidden="true"></i>
        </button>
    </div>
</div>

<div class="container">
    
    <div class="row">
        <div class="col-1">
            <button type="button" class="btn" (click)="arrowLeft(); montaMes();">
                <i class="fa fa-arrow-left" aria-hidden="true"></i>
            </button>
        </div>
        <div class="col-10">
            <h2 align="center" style="color: darkblue;">
                {{ mes | date: 'MMMM yyyy'}}
            </h2>
        </div>
        <div class="col-1">
            <button type="button" class="btn" (click)="arrowRight(); montaMes();">
                <i class="fa fa-arrow-right" aria-hidden="true"></i>
            </button>
        </div>
    </div>
    
    <table border="solid" bgcolor="lightgrey" align="center" cellspacing="21" cellpadding="5"
        *ngIf="mes != undefined">
          
        <caption align="top">

        </caption>
  
        <thead>
            <tr style="height: 50px">
                    <th style="color: white; background: purple;">
                        Dom</th>
                    <th style="color: white; background: purple;">
                        Seg</th>
                    <th style="color: white; background: purple;">
                        Ter</th>
                    <th style="color: white; background: purple;">
                        Qua</th>
                    <th style="color: white; background: purple;">
                        Qui</th>
                    <th style="color: white; background: purple;">
                        Sex</th>
                    <th style="color: white; background: purple;">
                        Sáb</th>
                    
            </tr>
        </thead>
          
        <tbody>
            <tr>
                <td *ngFor="let dia of semana1;">
                    <div class="row">
                        <div class="col-6">{{ dia | date: 'dd' }}</div>
                        <div class="col-6" *ngIf="dia != '' "><a type="button" class="btn"><i class="fa fa-edit" aria-hidden="true"></i></a></div>
                    </div>
                    <div class="row">
                        <h1 *ngIf="dia != '' ">{{ percentualOcupacaoAgenda(dia) * 100 }}%</h1>
                    </div>
                </td>
            </tr>
            <tr>
                <td *ngFor="let dia of semana2;">
                    <div class="row">
                        <div class="col-6">{{ dia | date: 'dd' }}</div>
                        <div class="col-6"><a type="button" class="btn"><i class="fa fa-edit" aria-hidden="true"></i></a></div>
                    </div>
                    <div class="row">
                        <h1>{{ percentualOcupacaoAgenda(dia) * 100 }}%</h1>
                    </div>
                </td>
            </tr>
            <tr>
                <td *ngFor="let dia of semana3;">
                    <div class="row">
                        <div class="col-6">{{ dia | date: 'dd' }}</div>
                        <div class="col-6"><a type="button" class="btn"><i class="fa fa-edit" aria-hidden="true"></i></a></div>
                    </div>
                    <div class="row">
                        <h1>{{ percentualOcupacaoAgenda(dia) * 100 }}%</h1>
                    </div>
                </td>
            </tr>
            <tr>
                <td *ngFor="let dia of semana4;">
                    <div class="row">
                        <div class="col-6">{{ dia | date: 'dd' }}</div>
                        <div class="col-6"><a type="button" class="btn"><i class="fa fa-edit" aria-hidden="true"></i></a></div>
                    </div>
                    <div class="row">
                        <h1>{{ percentualOcupacaoAgenda(dia) * 100 }}%</h1>
                    </div>
                </td>
            </tr>
            <tr>
                <td *ngFor="let dia of semana5;">
                    <div class="row">
                        <div class="col-6">{{ dia | date: 'dd' }}</div>
                        <div class="col-6" *ngIf="dia != '' "><a type="button" class="btn"><i class="fa fa-edit" aria-hidden="true"></i></a></div>
                    </div>
                    <div class="row">
                        <h1 *ngIf="dia != '' ">{{ percentualOcupacaoAgenda(dia) * 100 }}%</h1>
                    </div>
                </td>
            </tr>
            <tr>
                <td *ngFor="let dia of semana6;">
                    <div class="row">
                        <div class="col-6">{{ dia | date: 'dd' }}</div>
                        <div class="col-6" *ngIf="dia != '' "><a type="button" class="btn"><i class="fa fa-edit" aria-hidden="true"></i></a></div>
                    </div>
                    <div class="row">
                        <h1 *ngIf="dia != '' ">{{ percentualOcupacaoAgenda(dia) * 100 }}%</h1>
                    </div>
                </td>
            </tr>
            
        </tbody>
    </table>

</div>



