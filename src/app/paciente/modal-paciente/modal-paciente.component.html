<div style="max-width: 800px">


<div class="modal-header">
    
    <h2 class="modal-title" id="modalLabel">Paciente</h2>
    <a type="button" aria-label="Fechar" (click)="activeModal.dismiss()">
        <span aria-hidden="true"><i class="fa fa-times" aria-hidden="true"></i> </span>
    </a>

    
</div>

<div class="modal-body text-left">
    
    <h3> {{ paciente.nomePaciente }} {{ paciente.sobrenomePaciente }}</h3>
    
    <div class="m-3">
        <div class="p-3">
            <p> CPF: {{ paciente.cpfPaciente }}</p>
            <p> Data de nascimento: {{ paciente.dataNascimentoPaciente | date: 'dd/MM/yyyy'}}</p>
        </div>
    </div>
    
    <div class="border m-3">
        <h3 class="bg-primary text-white p-3 m-0">Responsável</h3>
        <div class="p-3">
            <p>Nome: {{ paciente.nomeResponsavel }} {{ paciente.sobrenomeResponsavel }}</p>
            <p> CPF: {{ paciente.cpfResponsavel }}</p>
            <p> Data de nascimento: {{ paciente.dataNascimentoResponsavel | date: 'dd/MM/yyyy'}}</p>
        </div>
    </div>
    
    <div class="border m-3">
        <h3 class="border bg-primary p-3 m-0 text-white">Informações de contato</h3>
        
        <div class="border p-3 m-0 bg-light">
            <h4 class="p-0 m-0">Telefones de contato</h4>
            <div class="p-0" *ngFor="let telefoneContato of paciente.telefonesContato; let i = index;">
            <div>
                <p>{{ telefoneContato.tipoTelefone }}: ({{ telefoneContato.ddd }}) {{ telefoneContato.numTelefone }} <i class="small">({{ telefoneContato.dataAtualizacao | date: 'dd/MM/yyyy'}})</i></p>
            </div>
        </div>
        <p class="p-3" *ngIf="paciente.telefonesContato!.length == 0"><i>Nenhum telefone cadastrado</i></p>
        </div>
        
        <div class="border p-3 m-0 bg-light">
            <h4 class="p-0 m-0">Emails de contato</h4>
            <div class="p-0" *ngFor="let email of paciente.emails; let i = index;">
            <div>
                <p>{{ email.enderecoEmail }} <i class="small">({{ email.dataAtualizacao | date: 'dd/MM/yyyy'}})</i></p>
            </div>
        </div>
        <p class="p-3" *ngIf="paciente.emails!.length == 0"><i>Nenhum email cadastrado</i></p>
        </div>
        

    </div>

    <div class="border m-3">
        <h3 class="border bg-primary p-3 m-0 text-white">Informações odontológicas</h3>
        
        <div class="border bg-light">
            <h4 class="p-3 m-0">Dados do convênio</h4>
            <div class="p-3" *ngFor="let dadosConvenioPaciente of paciente.dadosConvenioPacientes; let i = index;">
                <div>
                    <p>{{ dadosConvenioPaciente.convenio!.nomeConvenio }}: {{ dadosConvenioPaciente.numCarteirinha}}
                        <i class="small">(atualizado em {{ dadosConvenioPaciente.dataInformacao | date: 'dd/MM/yyyy'}})</i>    
                    </p>
                </div>
            </div>
        <p class="p-4" *ngIf="paciente.dadosConvenioPacientes!.length == 0"><i>Nenhum dado de convênio</i></p>
        </div>
        

        <div class="border bg-light">
            <h4 class="p-3 m-0">Condições odontolológicas</h4>
            <div class="p-3" *ngFor="let condicaoDentePaciente of paciente.condicaoDentePacientes; let i = index;">
                <div>
                    <p>Dente {{ condicaoDentePaciente.dente }}-{{ condicaoDentePaciente.face }}: {{ condicaoDentePaciente.condicao }} 
                        <i class="small">({{ condicaoDentePaciente.dataInformacao | date: 'dd/MM/yyyy'}})</i>
                    </p>
                </div>
            </div>
        <p class="p-4" *ngIf="paciente.condicaoDentePacientes!.length == 0"><i>Nenhuma condição diagnosticada</i></p>
        </div>
        
        
    </div>

    <!-- ODONTOGRAMA -->
    <div class="border m-3" style="width: 850px">
        <div class="row border bg-primary p-3 m-0 text-white">
                <h3>Odontograma</h3>
        </div>

        <!--<div class="p-3 bg-light">

                <div class="d-inline-block p-1" *ngFor="let condicaoDentePaciente of paciente.condicaoDentePacientes; let i = index;">
                    
                    <div class="small d-block" style="width: 40px;"><p class="text-center">{{ condicaoDentePaciente.dente }}</p></div>
                    
                    <div type="button" (click)="setCorDente(0,dente,0)" class="border border-dark d-inline-block" style="width:10px; height: 40px; background-color: white;"></div>
                    <div class="d-inline-block">
                        <div type="button" (click)="setCorDente(0,dente,0)" class="border border-dark" style="width:20px; height: 10px; background-color: white;"></div>
                        <div type="button" (click)="setCorDente(0,dente,0)" class="border border-dark" style="width:20px; height: 20px;" [style.background-color]="bgColor1[i]"></div>
                        <div type="button" (click)="setCorDente(0,dente,0)" class="border border-dark" style="width:20px; height: 10px; background-color: white;"></div>
                    </div>
                    <div type="button" (click)="setCorDente(0,dente,0)" class="border border-dark d-inline-block" style="width:10px; height: 40px; background-color: white;"></div>
                </div>

        </div>-->

        <div class="p-3 bg-light">

            <div class="d-inline-block p-1" *ngFor="let dente of dentes1; let indexDente = index;">
                <!-- Número do dente -->
                <div class="small d-block" style="width: 40px;"><p class="text-center">{{ dente }}</p></div>
                <!-- Dente -->
                <div type="button" (click)="setCorDenteBloco1(dente,0)" class="border border-dark d-inline-block" style="width:10px; height: 40px;" [style.background-color]="bgColor1[indexDente][0]"></div>
                <div class="d-inline-block">
                    <div type="button" (click)="setCorDenteBloco1(dente,1)" class="border border-dark" style="width:20px; height: 10px;" [style.background-color]="bgColor1[indexDente][1]"></div>
                    <div type="button" (click)="setCorDenteBloco1(dente,2)" class="border border-dark" style="width:20px; height: 20px;" [style.background-color]="bgColor1[indexDente][2]"></div>
                    <div type="button" (click)="setCorDenteBloco1(dente,3)" class="border border-dark" style="width:20px; height: 10px;" [style.background-color]="bgColor1[indexDente][3]"></div>
                </div>
                <div type="button" (click)="setCorDenteBloco1(dente,4)" class="border border-dark d-inline-block" style="width:10px; height: 40px;" [style.background-color]="bgColor1[indexDente][4]"></div>
            </div>

            <div class="d-inline-block p-3"></div>

            <div class="d-inline-block p-1" *ngFor="let dente of dentes2; let i2 = index;">
                <!-- Número do dente -->
                <div class="small d-block" style="width: 40px;"><p class="text-center">{{ dente }}</p></div>
                <!-- Dente -->
                <div type="button" (click)="setCorDenteBloco2(dente,0)" class="border border-dark d-inline-block" style="width:10px; height: 40px;" [style.background-color]="bgColor2[i2][0]"></div>
                <div class="d-inline-block">
                    <div type="button" (click)="setCorDenteBloco2(dente,1)" class="border border-dark" style="width:20px; height: 10px;" [style.background-color]="bgColor2[i2][1]"></div>
                    <div type="button" (click)="setCorDenteBloco2(dente,2)" class="border border-dark" style="width:20px; height: 20px;" [style.background-color]="bgColor2[i2][2]"></div>
                    <div type="button" (click)="setCorDenteBloco2(dente,3)" class="border border-dark" style="width:20px; height: 10px;" [style.background-color]="bgColor2[i2][3]"></div>
                </div>
                <div type="button" (click)="setCorDenteBloco2(dente,4)" class="border border-dark d-inline-block" style="width:10px; height: 40px;" [style.background-color]="bgColor2[i2][4]"></div>
            </div>

        </div>

        <div class="p-3 bg-light">

            <div class="d-inline-block p-1" *ngFor="let dente of dentes3; let indexDente = index;">
                <!-- Número do dente -->
                <div class="small d-block" style="width: 40px;"><p class="text-center">{{ dente }}</p></div>
                <!-- Dente -->
                <div type="button" (click)="setCorDenteBloco3(dente,0)" class="border border-dark d-inline-block" style="width:10px; height: 40px;" [style.background-color]="bgColor3[indexDente][0]"></div>
                <div class="d-inline-block">
                    <div type="button" (click)="setCorDenteBloco3(dente,1)" class="border border-dark" style="width:20px; height: 10px;" [style.background-color]="bgColor3[indexDente][1]"></div>
                    <div type="button" (click)="setCorDenteBloco3(dente,2)" class="border border-dark" style="width:20px; height: 20px;" [style.background-color]="bgColor3[indexDente][2]"></div>
                    <div type="button" (click)="setCorDenteBloco3(dente,3)" class="border border-dark" style="width:20px; height: 10px;" [style.background-color]="bgColor3[indexDente][3]"></div>
                </div>
                <div type="button" (click)="setCorDenteBloco3(dente,4)" class="border border-dark d-inline-block" style="width:10px; height: 40px;" [style.background-color]="bgColor3[indexDente][4]"></div>
            </div>

            <div class="d-inline-block p-3"></div>

            <div class="d-inline-block p-1" *ngFor="let dente of dentes4; let indexDente = index;">
                <!-- Número do dente -->
                <div class="small d-block" style="width: 40px;"><p class="text-center">{{ dente }}</p></div>
                <!-- Dente -->
                <div type="button" (click)="setCorDenteBloco4(dente,0)" class="border border-dark d-inline-block" style="width:10px; height: 40px;" [style.background-color]="bgColor4[indexDente][0]"></div>
                <div class="d-inline-block">
                    <div type="button" (click)="setCorDenteBloco4(dente,1)" class="border border-dark" style="width:20px; height: 10px;" [style.background-color]="bgColor4[indexDente][1]"></div>
                    <div type="button" (click)="setCorDenteBloco4(dente,2)" class="border border-dark" style="width:20px; height: 20px;" [style.background-color]="bgColor4[indexDente][2]"></div>
                    <div type="button" (click)="setCorDenteBloco4(dente,3)" class="border border-dark" style="width:20px; height: 10px;" [style.background-color]="bgColor4[indexDente][3]"></div>
                </div>
                <div type="button" (click)="setCorDenteBloco4(dente,4)" class="border border-dark d-inline-block" style="width:10px; height: 40px;" [style.background-color]="bgColor4[indexDente][4]"></div>
            </div>

        </div>

        <div class="p-3 bg-light">

            <div class="d-inline-block p-1" *ngFor="let dente of dentes5; let indexDente = index;">
                <!-- Número do dente -->
                <div class="small d-block" style="width: 40px;"><p class="text-center">{{ dente }}</p></div>
                <!-- Dente -->
                <div type="button" (click)="setCorDenteBloco5(dente,0)" class="border border-dark d-inline-block" style="width:10px; height: 40px;" [style.background-color]="bgColor5[indexDente][0]"></div>
                <div class="d-inline-block">
                    <div type="button" (click)="setCorDenteBloco5(dente,1)" class="border border-dark" style="width:20px; height: 10px;" [style.background-color]="bgColor5[indexDente][1]"></div>
                    <div type="button" (click)="setCorDenteBloco5(dente,2)" class="border border-dark" style="width:20px; height: 20px;" [style.background-color]="bgColor5[indexDente][2]"></div>
                    <div type="button" (click)="setCorDenteBloco5(dente,3)" class="border border-dark" style="width:20px; height: 10px;" [style.background-color]="bgColor5[indexDente][3]"></div>
                </div>
                <div type="button" (click)="setCorDenteBloco5(dente,4)" class="border border-dark d-inline-block" style="width:10px; height: 40px;" [style.background-color]="bgColor5[indexDente][4]"></div>
            </div>

            <div class="d-inline-block p-3"></div>

            <div class="d-inline-block p-1" *ngFor="let dente of dentes6; let indexDente = index;">
                <!-- Número do dente -->
                <div class="small d-block" style="width: 40px;"><p class="text-center">{{ dente }}</p></div>
                <!-- Dente -->
                <div type="button" (click)="setCorDenteBloco6(dente,0)" class="border border-dark d-inline-block" style="width:10px; height: 40px;" [style.background-color]="bgColor6[indexDente][0]"></div>
                <div class="d-inline-block">
                    <div type="button" (click)="setCorDenteBloco6(dente,1)" class="border border-dark" style="width:20px; height: 10px;" [style.background-color]="bgColor6[indexDente][1]"></div>
                    <div type="button" (click)="setCorDenteBloco6(dente,2)" class="border border-dark" style="width:20px; height: 20px;" [style.background-color]="bgColor6[indexDente][2]"></div>
                    <div type="button" (click)="setCorDenteBloco6(dente,3)" class="border border-dark" style="width:20px; height: 10px;" [style.background-color]="bgColor6[indexDente][3]"></div>
                </div>
                <div type="button" (click)="setCorDenteBloco6(dente,4)" class="border border-dark d-inline-block" style="width:10px; height: 40px;" [style.background-color]="bgColor6[indexDente][4]"></div>
            </div>

        </div>

        <div class="p-3 bg-light">

            <div class="d-inline-block p-1" *ngFor="let dente of dentes7; let indexDente = index;">
                <!-- Número do dente -->
                <div class="small d-block" style="width: 40px;"><p class="text-center">{{ dente }}</p></div>
                <!-- Dente -->
                <div type="button" (click)="setCorDenteBloco7(dente,0)" class="border border-dark d-inline-block" style="width:10px; height: 40px;" [style.background-color]="bgColor7[indexDente][0]"></div>
                <div class="d-inline-block">
                    <div type="button" (click)="setCorDenteBloco7(dente,1)" class="border border-dark" style="width:20px; height: 10px;" [style.background-color]="bgColor7[indexDente][1]"></div>
                    <div type="button" (click)="setCorDenteBloco7(dente,2)" class="border border-dark" style="width:20px; height: 20px;" [style.background-color]="bgColor7[indexDente][2]"></div>
                    <div type="button" (click)="setCorDenteBloco7(dente,3)" class="border border-dark" style="width:20px; height: 10px;" [style.background-color]="bgColor7[indexDente][3]"></div>
                </div>
                <div type="button" (click)="setCorDenteBloco7(dente,4)" class="border border-dark d-inline-block" style="width:10px; height: 40px;" [style.background-color]="bgColor7[indexDente][4]"></div>
            </div>

            <div class="d-inline-block p-3"></div>

            <div class="d-inline-block p-1" *ngFor="let dente of dentes8; let indexDente = index;">
                <!-- Número do dente -->
                <div class="small d-block" style="width: 40px;"><p class="text-center">{{ dente }}</p></div>
                <!-- Dente -->
                <div type="button" (click)="setCorDenteBloco8(dente,0)" class="border border-dark d-inline-block" style="width:10px; height: 40px;" [style.background-color]="bgColor8[indexDente][0]"></div>
                <div class="d-inline-block">
                    <div type="button" (click)="setCorDenteBloco8(dente,1)" class="border border-dark" style="width:20px; height: 10px;" [style.background-color]="bgColor8[indexDente][1]"></div>
                    <div type="button" (click)="setCorDenteBloco8(dente,2)" class="border border-dark" style="width:20px; height: 20px;" [style.background-color]="bgColor8[indexDente][2]"></div>
                    <div type="button" (click)="setCorDenteBloco8(dente,3)" class="border border-dark" style="width:20px; height: 10px;" [style.background-color]="bgColor8[indexDente][3]"></div>
                </div>
                <div type="button" (click)="setCorDenteBloco8(dente,4)" class="border border-dark d-inline-block" style="width:10px; height: 40px;" [style.background-color]="bgColor8[indexDente][4]"></div>
            </div>

        </div>
        
    </div>
    <!-- FIM DO ODONTOGRAMA -->

    <div class="border m-3">
        <div class="row border bg-primary p-3 m-0 text-white">
            <div class="col-9">
                <h3>Atendimentos realizados</h3>
            </div>
            <div class="col-3">
                <button class="btn btn-light" (click)="activeModal.close()" [routerLink]="['/atendimentos/novo']">
                    <i class="fa fa-plus" aria-hidden="true"></i>
                </button>
            </div>
        </div>
        <div class="p-3" *ngFor="let atendimento of atendimentos">
            <div>
                <a (click)="activeModal.close()" [routerLink]="['/atendimentos/editar', atendimento.id]">
                    Data: {{ atendimento.dataAtendimento | date: 'dd/MM/yyyy' }}
                </a>
            </div>
            <div class="small">
                <i>{{ atendimento.comentario }}</i>
            </div>
            <div class="small" *ngFor="let procedimento of atendimento.procedimentosAplicados">
                <ul>
                    <li>{{ procedimento.procedimento }}. <i>{{ procedimento.comentario }}</i></li>
                </ul>
            </div>
        </div>
    </div>

    
</div>

<div class="modal-footer">
    <a href="#" title="Editar" alt="Editar" class="btn btn-xs btn-primary" (click)="activeModal.close()" [routerLink]="['/pacientes/editar', paciente.id]">
        <i class="fa fa-edit" aria-hidden="true"></i> Editar
    </a>
    <button type="button" class="btn btn-outline-dark" (click)="activeModal.close()">Fechar</button>
</div>

</div>
